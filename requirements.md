# 💰 お金管理システム - 要件定義書 v1.0

## 📋 プロジェクト概要

### 🎯 プロジェクト名
**Money Manager** - お金管理システム

### 📝 プロジェクト概要
個人の収入と支出を効率的に管理し、家計の見える化を図るWebアプリケーション。シンプルな操作で日々の金銭管理を支援し、CSVエクスポートによるデータ活用も可能。

### 🎭 ターゲットユーザー
- 家計簿をつけたい個人
- 収支を把握したい学生・社会人
- シンプルな金銭管理ツールを求める人

## 🎨 デザイン要件

### 🎨 デザインコンセプト
- **清潔感のあるUI**: 白をベースとした明るいデザイン
- **見やすい色分け**: 収入は緑、支出は赤で直感的に区別
- **モダンな外観**: 角丸、シャドウを活用した現代的デザイン

### 📱 レスポンシブ対応
- デスクトップ (1200px以上)
- タブレット (768px-1199px)
- スマートフォン (767px以下)

### 🎨 カラーパレット
```css
:root {
    --primary-color: #10b981;    /* メインカラー（緑） */
    --secondary-color: #3b82f6;  /* サブカラー（青） */
    --success-color: #22c55e;    /* 収入（緑） */
    --danger-color: #ef4444;     /* 支出（赤） */
    --warning-color: #f59e0b;    /* 警告（橙） */
    --bg-primary: #ffffff;       /* 背景色（白） */
    --bg-secondary: #f8fafc;     /* セカンダリ背景 */
    --text-primary: #1e293b;     /* メインテキスト */
    --text-secondary: #64748b;   /* サブテキスト */
}
```

## ⚙️ 機能要件

### 🔧 必須機能

#### 1. 取引記録機能
- **収入・支出の選択**: ラジオボタンによる直感的な選択
- **カテゴリ分類**: 
  - 収入: 給与、ボーナス、投資収益、その他収入
  - 支出: 食費、交通費、住居費、光熱費、娯楽費、その他支出
- **金額入力**: 数値のみ入力可能（最小値1円）
- **説明**: 任意のメモ機能
- **日付**: カレンダーピッカーでの日付選択

#### 2. データ編集機能
- **編集**: 記録済みデータの全項目編集可能
- **削除**: 確認ダイアログ付きの安全な削除
- **即時反映**: 編集後の即座な画面更新

#### 3. CSV出力機能
- **全データエクスポート**: 記録された全取引のCSV出力
- **日本語対応**: BOM付きUTF-8エンコーディング
- **列構成**: 日付、タイプ、カテゴリ、金額、説明
- **ファイル名**: `money_manager_YYYY-MM-DD.csv`

### 🎯 追加機能

#### 4. サマリー表示
- **総残高**: 収入合計 - 支出合計
- **月次集計**: 当月の収入・支出・収支バランス
- **視覚的表示**: 数値の色分け表示

#### 5. 取引履歴機能
- **一覧表示**: 新しい順でのソート表示
- **フィルタリング**: 
  - タイプ別（全て/収入のみ/支出のみ）
  - 月別フィルタ
- **検索性**: 月次ドロップダウンでの期間選択

#### 6. データ可視化
- **円グラフ**: 当月支出のカテゴリ別内訳
- **Canvas描画**: 軽量な自作グラフエンジン
- **動的更新**: データ変更時の自動再描画

#### 7. データ永続化
- **LocalStorage**: ブラウザローカルでのデータ保存
- **自動保存**: 全操作での即座なデータ保存
- **データ復元**: ページ再読み込み時の自動データ復元

## 🔧 技術要件

### 🖥️ 技術スタック
- **フロントエンド**: バニラHTML/CSS/JavaScript
- **データ保存**: ブラウザLocalStorage
- **グラフ描画**: Canvas API
- **デプロイ**: GitHub Pages

### 📱 対応ブラウザ
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### ⚡ パフォーマンス要件
- **初期読み込み**: 2秒以内
- **操作レスポンス**: 100ms以内
- **データ保存**: 50ms以内

## 🎯 非機能要件

### 🔒 セキュリティ
- **ローカル保存**: 機密データのサーバー送信なし
- **入力検証**: XSS対策の入力サニタイゼーション
- **安全な削除**: 確認ダイアログによる誤操作防止

### 📊 可用性
- **オフライン動作**: インターネット接続不要
- **ブラウザ依存**: LocalStorage対応ブラウザで動作
- **データ永続化**: ブラウザキャッシュクリア時のデータ保持

### 🔧 保守性
- **コードの可読性**: 明確な関数・変数名
- **モジュール化**: 機能別のメソッド分離
- **拡張性**: 新機能追加の容易性

## 📊 インターフェース仕様

### 🖥️ 画面構成

#### メインヘッダー
```html
- アプリタイトル: "💰 Money Manager"
- 現在の残高表示: リアルタイム更新
```

#### 入力フォーム
```html
- 収入/支出ラジオボタン
- カテゴリ選択ドロップダウン
- 金額入力フィールド
- 説明テキスト入力
- 日付選択フィールド
- 記録ボタン
```

#### サマリーセクション
```html
- 今月の収入カード
- 今月の支出カード  
- 今月の収支カード
```

#### 取引履歴
```html
- フィルタコントロール（タイプ・月）
- 取引一覧（編集・削除ボタン付き）
- CSV出力ボタン
- 全削除ボタン
```

#### 編集モーダル
```html
- 取引編集フォーム
- 保存・キャンセルボタン
- モーダルオーバーレイ
```

#### チャート表示
```html
- 円グラフ（支出カテゴリ別）
- Canvas要素での描画
```

### 📱 操作フロー

#### 1. 取引記録フロー
1. 収入/支出を選択
2. カテゴリを選択（動的に変更）
3. 金額・説明・日付を入力
4. 記録ボタンクリック
5. 即座に画面更新・データ保存

#### 2. 編集フロー
1. 履歴一覧の編集ボタンクリック
2. モーダルで編集フォーム表示
3. 値を修正
4. 保存ボタンで確定
5. モーダル閉じて一覧更新

#### 3. エクスポートフロー
1. CSV出力ボタンクリック
2. ファイルダウンロード開始
3. ブラウザダウンロードフォルダに保存

## 🧪 テスト要件

### ✅ 単体テスト項目
- [ ] 取引追加機能
- [ ] データ編集機能
- [ ] 削除機能
- [ ] CSV出力機能
- [ ] フィルタリング機能
- [ ] LocalStorage操作
- [ ] グラフ描画機能

### 🔄 統合テスト項目
- [ ] データフロー確認
- [ ] UI操作の一貫性
- [ ] ブラウザ間互換性
- [ ] レスポンシブ動作

### 👥 ユーザビリティテスト
- [ ] 直感的な操作性
- [ ] エラー処理の適切性
- [ ] 視覚的フィードバック

## 📈 成功指標

### 🎯 機能達成度
- 必須機能3項目: 100%実装
- 追加機能4項目: 100%実装
- UIコンポーネント: 100%完成

### ⚡ パフォーマンス指標
- ページ読み込み速度: 2秒以内
- 操作レスポンス: 100ms以内
- データ処理: 1000件まで快適動作

### 📱 品質指標
- ブラウザ対応率: 95%以上
- レスポンシブ対応: 完全対応
- アクセシビリティ: 基本的な配慮

## 🚀 リリース計画

### 📅 開発フェーズ
- **Phase 1**: 基本機能実装（取引記録・編集・削除）
- **Phase 2**: データ可視化（サマリー・グラフ）
- **Phase 3**: エクスポート機能・最適化
- **Phase 4**: テスト・デバッグ・デプロイ

### 🔄 今後の拡張案
- 予算設定機能
- レポート生成機能
- データバックアップ機能
- 複数通貨対応
- カテゴリカスタマイズ

Money Managerは「シンプルで直感的な家計管理」をコンセプトに、必要十分な機能を美しいUIで提供するWebアプリケーションとして設計されています。